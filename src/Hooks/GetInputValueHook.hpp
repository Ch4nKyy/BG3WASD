#pragma once

#include "Hooks/Base/FunctionHook.hpp"

class GetInputValueHook : public FunctionHook
{
public:
    GetInputValueHook() :
        FunctionHook({ search_pattern<"E8 ?? ?? ?? ?? 44 ?? ?? ?? C7 ?? ?? ?? ?? ?? ?? 9F">(),
                         search_pattern<"E8 ?? ?? ?? ?? 44 ?? ?? ?? C7 ?? ?? ?? ?? ?? ?? 9D">(),
                         search_pattern<"E8 ?? ?? ?? ?? 44 ?? ?? ?? C7 ?? ?? ?? ?? ?? ?? 9E">(),
                         search_pattern<"E8 ?? ?? ?? ?? 48 ?? ?? ?? ?? ?? ?? ?? 48 ?? ?? ?? ?? ?? "
                                        "?? ?? F3 ?? ?? ?? ?? ?? 41 ?? ?? ?? 41">() },
            { 0, 0, 0, 0 }, std::source_location::current().function_name()) {};

    void EnableSpecifically(uintptr_t address_incl_offset) override;

    static int64_t OverrideFunc(int64_t a1, int64_t a2, int64_t a3, uint8_t a4);
    static inline std::add_pointer_t<decltype(OverrideFunc)> OriginalFunc;

    static GetInputValueHook& Get()
    {
        static GetInputValueHook instance;
        return instance;
    }
};
